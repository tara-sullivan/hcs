# Overview of `img/` directory

    * code/
    * *.tex files (PGF plots code)

The primary output for this project are PDFs generated in TeX, specifically my slides (`writeups/slides/slides.pdf`) and my paper (`writeups/paper/outline.pdf`). 
To generate these PDFs, I compile  `writeups/slides/slides.tex` and `writeups/paper/outline.tex`, respectively (henceforth referred to as `slides.tex` and `outline.tex`). 
These PDFs contain figures generated using programs from my `model/` and `data/` directories.
I generate these figures in Python using matplotlib, but need to save them in a TeX-friendly way.
To do this, I convert my matplotlib lib code to TeX code using  [tikzplotlib](https://github.com/nschloe/tikzplotlib). 
That way, I can natively compile my figures in TeX using [PGF plots](http://pgfplots.sourceforge.net/).

The many `.tex` files in this folder contain TeX code for particular images that have been generated using matplotlib and converted to TeX code using [tikzplotlib](https://github.com/nschloe/tikzplotlib). 
These files are then imported into `outline.tex` or `slides.tex` to generate PDFs of figures. 
The `/img/code/` sub-directory contains programs I commonly import when generating figures in the `/model/` or `/data/` directories. 

## `code/` sub-directory

The `/img/code/` sub-directory contains programs I commonly import when generating figures in the `/model/` or `/data/` directories. 
I currently set some common parameters using these programs; I could perhaps do this in amore systematic way, instead of re-importing the same modules, but explicitly importing hasn't been a hassle so far. 
See the README in that directory for details about commonly used functions and parameters.

## PGF plots code

The .tex files in this directory have been generated by other programs in the `/model/` or `/data/` directories.
After generating the images in Python using matplotlib, I use the [tikzplotlib](https://github.com/nschloe/tikzplotlib) package to save tikz code that will create an identical figure in TeX.

To actually see standalone PDFs of these images, you can either:
    1. Generate standalone versions of these images. This can be done using the `img/code/standalone.tex` file.
    2. Compile the full TeX document (`slides.tex` or `outline.tex`) and externalize the PGF plots.
Details on both of these methods are below. 

To determine exactly which program created each .tex file, I generally just search GitHub. 

### Externalize PGF Plots

To generate standalone versions of figures (and to make my TeX code compile faster), externalize the PGFPlots figures.
This means that when I compile my tex, code, I run the following commands:
```shell session
cd witeups/paper
pdflatex -shell-escape slides
```
The resulting pdfs can be found in the relevant `figures/` sub-directory.

### Generate standalone PDFs of these files

A number of options are available to generate standalone PDFs using tikzplotlib. 

First, one can edit the tikzplotlib.save command to produce standalone latex code:
```python
tikzplotlib.save('testfig.tex', standalone=True)
```
This will produce the following type of testfig.tex file using the standalone latex class:
```
\documentclass{standalone}
\usepackage[utf8]{inputenc}
\usepackage{pgfplots}
\DeclareUnicodeCharacter{2212}{âˆ’}
\usepgfplotslibrary{groupplots,dateplot}
\usetikzlibrary{patterns,shapes.arrows}
\pgfplotsset{compat=newest}
\begin{document}
% This file was created by tikzplotlib v0.9.2.
\begin{tikzpicture}
%%% Generated tikzpicture code here
\end{tikzpicture}
\end{document}
```
A PDF standalone image can be created by compiling this document.
One could also save the standalone figure normally, and use the above tex structure to create standalone images. 

Unfortunately, this process breaks if you have a caption, which many of my figures do. 

